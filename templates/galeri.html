{{ template "layout" .}}

{{ define "main" }}
<div class="container mx-auto mt-20 p-6 space-y-8">
    <h1 class="text-4xl font-bold my-10">{{ .Title }}</h1>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {{ range .Galeri }}
        <div 
            class="bg-white rounded-lg shadow-lg overflow-hidden hover:scale-105 transform transition duration-300 cursor-pointer"
            onclick="openModal('{{ .Foto }}')"
        >
            <img src="{{ .Foto }}" alt="{{ .Judul }}" class="w-full h-48 object-cover">
            <div class="p-4">
                <h2 class="text-xl font-semibold text-gray-800 mb-2">{{ .Judul }}</h2>
            </div>
        </div>
        {{ end }}
    </div>
</div>

<!-- 🖼️ Modal -->
<div id="imageModal" class="hidden fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50">
    <div class="relative bg-transparent rounded-lg max-w-4xl mx-4 overflow-hidden">
        <!-- Tombol close -->
        <button onclick="closeModal()" class="absolute top-2 right-2 text-white text-2xl bg-black/50 rounded-full px-2 hover:bg-black/70 transition">
            ✕
        </button>
        <img id="modalImage" src="" alt="" class="w-full max-h-[85vh] object-contain rounded-lg shadow-lg transition-all duration-300">
    </div>
</div>

<!-- 📜 Script Modal -->
<script>
    function openModal(foto) {
        const modal = document.getElementById('imageModal');
        const img = document.getElementById('modalImage');
        img.src = foto;
        modal.classList.remove('hidden');
        setTimeout(() => {
            img.classList.add('scale-100', 'opacity-100');
        }, 10);
    }

    function closeModal() {
        document.getElementById('imageModal').classList.add('hidden');
    }

    // Tutup modal kalau klik di luar gambar
    document.getElementById('imageModal').addEventListener('click', function(e) {
        if (e.target === this) closeModal();
    });
</script>

{{ end }}